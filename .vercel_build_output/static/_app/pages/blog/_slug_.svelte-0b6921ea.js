import{S as ee,i as te,s as le,e as g,N as fe,c as k,d as m,b as _,F as v,G as M,l as N,f as d,u as w,w as Q,x as A,H as me,r as U,t as I,a as T,g as q,D as P,j as ne,k as $,m as ae,n as j,P as V,o as re,Q as K,h as ie,v as se,R as _e,O as he}from"../../chunks/vendor-052015e0.js";import{p as pe}from"../../chunks/stores-f653db05.js";function be(u){return{c(){this.h()},l(e){this.h()},h(){document.title="Masaya's Thoughts"},m:M,d:M}}function de(u){return document.title=""+(u[0]+" | Masaya's Thoughts"),{c:M,l:M,m:M,d:M}}function ge(u){let e,r,l,t,c,n,s;function i(p,b){return p[0]?de:be}let f=i(u),o=f(u);return{c(){o.c(),e=g("meta"),r=g("meta"),l=g("meta"),t=g("meta"),c=g("meta"),s=g("meta"),this.h()},l(p){const b=fe('[data-svelte="svelte-8wmwb6"]',document.head);o.l(b),e=k(b,"META",{name:!0,content:!0}),r=k(b,"META",{name:!0,content:!0}),l=k(b,"META",{property:!0,content:!0}),t=k(b,"META",{property:!0,content:!0}),c=k(b,"META",{property:!0,content:!0}),s=k(b,"META",{property:!0,content:!0}),b.forEach(m),this.h()},h(){_(e,"name","author"),_(e,"content","Masaya Shida"),_(r,"name","description"),_(r,"content","Blog article written by Masaya Shida."),_(l,"property","og:type"),_(l,"content","website"),_(t,"property","og:title"),_(t,"content",u[0]),_(c,"property","og:description"),_(c,"content",n=`Written ${u[1]}`),_(s,"property","og:image"),_(s,"content",u[2])},m(p,b){o.m(document.head,null),v(document.head,e),v(document.head,r),v(document.head,l),v(document.head,t),v(document.head,c),v(document.head,s)},p(p,[b]){f!==(f=i(p))&&(o.d(1),o=f(p),o&&(o.c(),o.m(e.parentNode,e))),b&1&&_(t,"content",p[0]),b&2&&n!==(n=`Written ${p[1]}`)&&_(c,"content",n),b&4&&_(s,"content",p[2])},i:M,o:M,d(p){o.d(p),m(e),m(r),m(l),m(t),m(c),m(s)}}}function ke(u,e,r){let{title:l}=e,{dateWritten:t}=e,{thumbnail:c}=e;return u.$$set=n=>{"title"in n&&r(0,l=n.title),"dateWritten"in n&&r(1,t=n.dateWritten),"thumbnail"in n&&r(2,c=n.thumbnail)},[l,t,c]}class ve extends ee{constructor(e){super();te(this,e,ke,ge,le,{title:0,dateWritten:1,thumbnail:2})}}function oe(u,e,r){const l=u.slice();return l[7]=e[r],l}function Me(u){let e,r;return{c(){e=g("p"),r=I("Retrieving article...")},l(l){e=k(l,"P",{});var t=T(e);r=q(t,"Retrieving article..."),t.forEach(m)},m(l,t){d(l,e,t),v(e,r)},p:M,i:M,o:M,d(l){l&&m(e)}}}function ye(u){let e,r,l,t,c;const n=[Ee,Ae],s=[];function i(f,o){return(r==null||o&6)&&(r=!!f[1].includes(f[2].params.slug)),r?0:1}return l=i(u,-1),t=s[l]=n[l](u),{c(){e=g("article"),t.c()},l(f){e=k(f,"ARTICLE",{});var o=T(e);t.l(o),o.forEach(m)},m(f,o){d(f,e,o),s[l].m(e,null),c=!0},p(f,o){let p=l;l=i(f,o),l===p?s[l].p(f,o):(U(),w(s[p],1,1,()=>{s[p]=null}),Q(),t=s[l],t?t.p(f,o):(t=s[l]=n[l](f),t.c()),A(t,1),t.m(e,null))},i(f){c||(A(t),c=!0)},o(f){w(t),c=!1},d(f){f&&m(e),s[l].d()}}}function Ae(u){let e,r,l,t;return{c(){e=g("h2"),r=I("404 "),l=g("br"),t=I(" Article not found"),this.h()},l(c){e=k(c,"H2",{style:!0});var n=T(e);r=q(n,"404 "),l=k(n,"BR",{}),t=q(n," Article not found"),n.forEach(m),this.h()},h(){P(e,"display","block"),P(e,"width","100%"),P(e,"max-width","100%"),P(e,"margin","0 auto"),P(e,"text-align","center")},m(c,n){d(c,e,n),v(e,r),v(e,l),v(e,t)},p:M,i:M,o:M,d(c){c&&m(e)}}}function Ee(u){let e,r,l=u[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=ce(oe(u,l,n));const c=n=>w(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=N()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=N()},m(n,s){for(let i=0;i<t.length;i+=1)t[i].m(n,s);d(n,e,s),r=!0},p(n,s){if(s&5){l=n[0];let i;for(i=0;i<l.length;i+=1){const f=oe(n,l,i);t[i]?(t[i].p(f,s),A(t[i],1)):(t[i]=ce(f),t[i].c(),A(t[i],1),t[i].m(e.parentNode,e))}for(U(),i=l.length;i<t.length;i+=1)c(i);Q()}},i(n){if(!r){for(let s=0;s<l.length;s+=1)A(t[s]);r=!0}},o(n){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)w(t[s]);r=!1},d(n){_e(t,n),n&&m(e)}}}function ue(u){let e,r,l,t,c,n,s=u[7].title+"",i,f,o,p=K(u[7].date).format("DD MMM YYYY")+"",b,R,B,Y,H,C,G,y,O,F,J,L,D,S,X,E;return e=new ve({props:{title:u[7].title,dateWritten:K(u[7].date).format("DD MMM YYYY"),thumbnail:u[7].thumbnail.url}}),S=new he({props:{source:u[7].content}}),{c(){ne(e.$$.fragment),r=$(),l=g("a"),t=I("\u{1F868} Blog"),c=$(),n=g("h1"),i=I(s),f=$(),o=g("p"),b=I(p),R=$(),B=g("div"),Y=g("img"),G=$(),y=g("img"),L=$(),D=g("span"),ne(S.$$.fragment),X=$(),this.h()},l(a){ae(e.$$.fragment,a),r=j(a),l=k(a,"A",{href:!0,class:!0});var h=T(l);t=q(h,"\u{1F868} Blog"),h.forEach(m),c=j(a),n=k(a,"H1",{});var W=T(n);i=q(W,s),W.forEach(m),f=j(a),o=k(a,"P",{});var z=T(o);b=q(z,p),z.forEach(m),R=j(a),B=k(a,"DIV",{class:!0});var x=T(B);Y=k(x,"IMG",{src:!0,alt:!0,class:!0}),x.forEach(m),G=j(a),y=k(a,"IMG",{src:!0,alt:!0,title:!0,class:!0}),L=j(a),D=k(a,"SPAN",{class:!0});var Z=T(D);ae(S.$$.fragment,Z),X=j(Z),Z.forEach(m),this.h()},h(){_(l,"href","/blog"),_(l,"class","backBtn svelte-1ibza4r"),V(Y.src,H=u[7].thumbnail.url)||_(Y,"src",H),_(Y,"alt",C=u[7].thumbnail.alt),_(Y,"class","svelte-1ibza4r"),_(B,"class","bgHero svelte-1ibza4r"),V(y.src,O=u[7].thumbnail.url)||_(y,"src",O),_(y,"alt",F=u[7].thumbnail.alt),_(y,"title",J=u[7].thumbnail.alt),_(y,"class","svelte-1ibza4r"),_(D,"class","blog_content")},m(a,h){re(e,a,h),d(a,r,h),d(a,l,h),v(l,t),d(a,c,h),d(a,n,h),v(n,i),d(a,f,h),d(a,o,h),v(o,b),d(a,R,h),d(a,B,h),v(B,Y),d(a,G,h),d(a,y,h),d(a,L,h),d(a,D,h),re(S,D,null),v(D,X),E=!0},p(a,h){const W={};h&1&&(W.title=a[7].title),h&1&&(W.dateWritten=K(a[7].date).format("DD MMM YYYY")),h&1&&(W.thumbnail=a[7].thumbnail.url),e.$set(W),(!E||h&1)&&s!==(s=a[7].title+"")&&ie(i,s),(!E||h&1)&&p!==(p=K(a[7].date).format("DD MMM YYYY")+"")&&ie(b,p),(!E||h&1&&!V(Y.src,H=a[7].thumbnail.url))&&_(Y,"src",H),(!E||h&1&&C!==(C=a[7].thumbnail.alt))&&_(Y,"alt",C),(!E||h&1&&!V(y.src,O=a[7].thumbnail.url))&&_(y,"src",O),(!E||h&1&&F!==(F=a[7].thumbnail.alt))&&_(y,"alt",F),(!E||h&1&&J!==(J=a[7].thumbnail.alt))&&_(y,"title",J);const z={};h&1&&(z.source=a[7].content),S.$set(z)},i(a){E||(A(e.$$.fragment,a),A(S.$$.fragment,a),E=!0)},o(a){w(e.$$.fragment,a),w(S.$$.fragment,a),E=!1},d(a){se(e,a),a&&m(r),a&&m(l),a&&m(c),a&&m(n),a&&m(f),a&&m(o),a&&m(R),a&&m(B),a&&m(G),a&&m(y),a&&m(L),a&&m(D),se(S)}}}function ce(u){let e,r,l=u[7].slug===u[2].params.slug&&ue(u);return{c(){l&&l.c(),e=N()},l(t){l&&l.l(t),e=N()},m(t,c){l&&l.m(t,c),d(t,e,c),r=!0},p(t,c){t[7].slug===t[2].params.slug?l?(l.p(t,c),c&5&&A(l,1)):(l=ue(t),l.c(),A(l,1),l.m(e.parentNode,e)):l&&(U(),w(l,1,1,()=>{l=null}),Q())},i(t){r||(A(l),r=!0)},o(t){w(l),r=!1},d(t){l&&l.d(t),t&&m(e)}}}function Ye(u){let e,r,l,t;const c=[ye,Me],n=[];function s(i,f){return i[0]?0:1}return e=s(u),r=n[e]=c[e](u),{c(){r.c(),l=N()},l(i){r.l(i),l=N()},m(i,f){n[e].m(i,f),d(i,l,f),t=!0},p(i,[f]){let o=e;e=s(i),e===o?n[e].p(i,f):(U(),w(n[o],1,1,()=>{n[o]=null}),Q(),r=n[e],r?r.p(i,f):(r=n[e]=c[e](i),r.c()),A(r,1),r.m(l.parentNode,l))},i(i){t||(A(r),t=!0)},o(i){w(r),t=!1},d(i){n[e].d(i),i&&m(l)}}}const we="fe98495b378ae369d79dea240fba61";function De(u,e,r){let l;me(u,pe,o=>r(2,l=o));let t;function c(o){r(0,t=o)}let n=[];function s(o){r(1,n=[...n,o])}let i=[];function f(o){i=[...i,o]}return fetch("https://graphql.datocms.com/",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:`Bearer ${we}`},body:JSON.stringify({query:`
        {
            allArticles {
                id
                active
                title
                slug
                khmer
                topic
                date
                thumbnail {
                alt
                url
                }
                createdAt
                updatedAt
                content
            }
        }
        `})}).then(o=>o.json()).then(o=>{c(o.data.allArticles),t.forEach(p=>{f(p.id),s(p.slug)}),console.log(i,n)}).catch(o=>{console.log(o)}),[t,n,l]}class Be extends ee{constructor(e){super();te(this,e,De,Ye,le,{})}}export{Be as default};
